{"version":3,"sources":["recoil-atoms/selectors.ts","services/caching.ts","services/api/index.ts","utils/notification.tsx","app/enums.ts","components/OverlayLoading.tsx","services/profile.ts","components/AuthRoute.tsx","components/GlobalStyles.ts","app/antd-theme.ts","app/routes.tsx","app/app.tsx","reportWebVitals.ts","index.tsx","recoil-atoms/atoms.ts","utils/helpers.ts","app/constants.ts","services/api/base-api.ts","app/theme.ts","recoil-atoms/user-info.ts"],"names":["availModuleCollSelector","selector","key","get","themeName","currentEdmThemeNameState","availModuleListFamilyState","reduce","acc","item","type","designModulesConfigInOrderSelector","moduleCollection","designModuleCollState","designModuleOrderState","map","id","singleDesignModuleSelector","selectorFamily","moduleId","set","newValue","DefaultValue","produce","draft","mergeDeep","addNewModuleToCurrentDesignSelector","payload","newModule","newId","uuidv4","moduleType","position","index","sourceData","moduleDetails","designModuleCollection","MaxModuleInEdmDesign","Object","values","filter","length","newList","moduleOrderItem","label","ModuleNamesMapping","splice","push","sort","applyFixedItemOfModuleOrder","removeModuleSelector","newOrder","saveDesignSelector","htmlFileKey","screenshot","designConfig","designConfigState","designHistory","designHistoryState","modules","updatedDesignConfig","designConfigModifiedSelector","Date","now","updateId","thumb","originalDesignConfigState","ConfigPropsNeedToKeep","applyThemeSelector","theme","name","newModules","forEach","newItemConfig","find","i","config","Array","isArray","key1","key2","ModuleTypeEnum","Spacer","newItemTemplate","template","replaceByDesignConfigSelector","newDesignConfig","originalDesignConfig","isEqual","ThemeOrder","edmThemeListSelector","list","edmThemeListState","a","b","indexOf","toLowerCase","savedDesignHistorySelector","time","allHistories","clearDesignComposerSelector","reset","currentDesignNameState","logoutSelector","removeToken","isReorderingState","isLoadingState","htmlKeyState","userInfoState","caching","value","expireTime","localforage","removeItem","noExpire","setItem","genGetRequest","rq","url","options","cache","method","signal","optToHash","hash","objectHash","MD5","localValue","Promise","resolve","resp","getRequest","request","clientGetRequest","clientRequest","postRequest","apiHelpers","post","authGet","authPost","clientGet","notify","error","message","notification","description","success","title","DroppableNames","Overlay","styled","div","OverlayLoading","memo","style","fontSize","color","colors","primary","getUserInfo","signalToAbort","console","debug","AuthRoute","props","history","useHistory","toggleLoading","useSetRecoilState","logout","useResetRecoilState","useRecoilState","userInfo","setUserInfo","useEffect","abort","AbortController","sub","getInfo","GlobalStyle","createGlobalStyle","p","base","spacing","xs","convertHexToRGBA","configProviders","form","validateMessages","required","types","email","routes","path","exact","component","loadable","NotFoundPage","DebugObserver","snapshot","useRecoilSnapshot","getNodes_UNSTABLE","isModified","node","getLoadable","getValue","AppContent","isLoading","useRecoilValue","basename","process","route","auth","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","item1","item2","Header","Footer","atom","default","atomFamily","patterns","validateBy","pattern","test","replace","c","r","Math","random","toString","reorder","startIndex","endIndex","result","from","removed","separateModuleList","customizer","objValue","srcValue","mergeWith","args","apply","preventUpload","loadFile","file","reject","reader","FileReader","readAsText","readAsDataURL","onerror","onload","hexCode","opacity","hex","parseInt","substring","g","keys","removeKeys","includes","formatDate","date","format","d","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","dd","MM","yyyy","HH","mm","ss","Text","Image","ImageText","DefaultDesignConfig","photo","backgroundColor","contentWidth","font","TOKEN_KEY","localStorage","saveToken","token","getToken","getItem","doRequest","baseAPI","optHeaders","headers","restOpts","fullUrl","Authorization","fetch","status","json","detail","msg","join","Error","customHeader","clone","text","BASE_API","REACT_APP_BASE_API","bg","border","link","disabled","tableHeader","tableRowEven","danger","warning","subtle","validating","tags","placeholder","body","sm","md","lg"],"mappings":"ymBAwBMA,EAA0BC,YAA2B,CACzDC,IAAK,0BACLC,IAAK,YAAc,IAAXA,EAAU,EAAVA,IACAC,EAAYD,EAAIE,KAGtB,OAFgBF,EAAIG,YAA2BF,IAGrCG,QACN,SAACC,EAAKC,GAAN,mBAAC,eACID,GADL,kBAEGC,EAAKC,KAAOD,MAEf,KACG,MAKEE,EAAqCV,YAAyB,CACzEC,IAAK,qCACLC,IAAK,YAAc,IAAXA,EAAU,EAAVA,IACAS,EAAmBT,EAAIU,KAG7B,OAFoBV,EAAIW,KAELC,KAAI,SAACN,GAAD,OAAUG,EAAiBH,EAAKO,UAI9CC,EAA6BC,YAAqC,CAC7EhB,IAAK,6BACLC,IACE,SAACgB,GAAD,OACA,YAGE,OAFyBhB,EADd,EAAVA,KAC4BU,KAELM,KAE5BC,IACE,SAACD,GAAD,OACA,WAAeE,GAAc,IAA1BD,EAAyB,EAAzBA,IAAKjB,EAAoB,EAApBA,IACN,GAAKkB,KAAYA,aAAoBC,KAArC,CAEA,IAAIV,EAAmBT,EAAIU,KAE3BO,EACEP,IACAU,YAAQX,GAAkB,SAACY,GACzBA,EAAML,GAAYM,YAAU,GAAID,EAAML,GAAWE,YAM9CK,EAAsCzB,YAIzC,CACRC,IAAK,sCACLC,IAAK,kBAAM,MACXiB,IAAK,WAAeO,GAAa,IAAzBxB,EAAwB,EAAxBA,IAAKiB,EAAmB,EAAnBA,IACX,KAAIO,aAAmBL,MAAiBK,EAAxC,CAEA,IAAIC,EAAiC,KAE/BC,EAAQC,cAENC,EAA4CJ,EAA5CI,WAAmBC,EAAyBL,EAAhCM,MAAiBC,EAAeP,EAAfO,WAErC,GAAIA,EAEFN,EAAS,2BAAQM,GAAR,IAAoBlB,GAAIa,SAC5B,GAAIE,EAAY,CACrB,IAEMI,EAFmBhC,EAAIH,GAEU+B,GAEnCI,IACFP,EAAS,2BAAQO,GAAR,IAAuBnB,GAAIa,KAIxC,GAAKD,EAAL,CAEA,IAAMQ,EAAyBjC,EAAIU,KAGnC,GAAIwB,IAAqBT,EAAUlB,MAKjC,GAJgB4B,OAAOC,OAAOH,GAAwBI,QACpD,SAAC/B,GAAD,aAAUA,EAAKC,QAAL,UAAckB,SAAd,aAAc,EAAWlB,SACnC+B,SAEcJ,IAAqBT,EAAUlB,MAAO,OAIxDU,EACEP,IACAU,YAAQa,GAAwB,SAACZ,GAC3BI,IAAWJ,EAAMK,GAASD,OAIlC,IAAMc,EAAUnB,YAAQpB,EAAIW,MAAyB,SAACU,GACpD,GAAII,EAAW,CACb,IAAMe,EAAmC,CACvC3B,GAAIa,EACJe,MAAOC,IAAmBjB,EAAUlB,MACpCA,KAAMkB,EAAUlB,MAGM,kBAAbsB,EACTR,EAAMsB,OAAOd,EAAU,EAAGW,GAE1BnB,EAAMuB,KAAKJ,GAGbnB,EAAQA,EAAMwB,KAAKC,SAKvB7B,EAAIN,IAAwB4B,QAInBQ,EAAuBjD,YAAwB,CAC1DC,IAAK,uBACLC,IAAK,kBAAM,MACXiB,IAAK,WAAeJ,GAAQ,IAApBI,EAAmB,EAAnBA,IAAKjB,EAAc,EAAdA,IACX,GAAKa,EAAL,CAEA,IAAMJ,EAAmBT,EAAIU,KAE7BO,EACEP,IACAU,YAAQX,GAAkB,SAACY,UAClBA,EAAMR,OAIjB,IACMmC,EADchD,EAAIW,KACK0B,QAAO,SAAC/B,GAAD,OAAUA,EAAKO,KAAOA,KAE1DI,EAAIN,IAAwBqC,OAInBC,EAAqBnD,YAEhC,CACAC,IAAK,qBACLC,IAAK,kBAAM,MACXiB,IAAK,WAAeC,GAAc,IAA1BlB,EAAyB,EAAzBA,IAAKiB,EAAoB,EAApBA,IACX,KAAIC,aAAoBC,MAAiBD,EAAzC,CAEA,IAAQgC,EAA4BhC,EAA5BgC,YAAaC,EAAejC,EAAfiC,WAEfC,EAAepD,EAAIqD,KACnBC,EAAgBtD,EAAIuD,KAEpBC,EAAUxD,EAAIQ,GAEpB,GAAK4C,EAAL,CAEA,IAAMK,EAAsBrC,YAAQgC,GAAc,SAAC/B,GACjDA,EAAMmC,QAAUA,KAGlBvC,EAAIoC,IAAmBI,GAEnBzD,EAAI0D,KACNzC,EACEsC,IACAnC,YAAQkC,GAAe,SAACjC,GACtBA,EAAMsC,KAAKC,OAAS,CAClBnB,MAAO,GACPW,aAAchC,YAAQqC,GAAqB,SAACpC,GAC1CwC,YAA0BxC,MAE5ByC,MAAOX,EACPD,YAAaA,GAAe,QAKlCjC,EAAI8C,IAA2BN,SAK/BO,EAAkD,CAAC,OAAQ,YAAa,kBAEjEC,EAAqBnE,YAA2D,CAC3FC,IAAK,qBACLC,IAAK,kBAAM,MACXiB,IAH2F,WAGzEiD,GAAQ,IAApBlE,EAAmB,EAAnBA,IAAKiB,EAAc,EAAdA,IACT,KAAIiD,aAAiB/C,MAAiB+C,EAAtC,CAEA,IAAMd,EAAepD,EAAIqD,KACnBG,EAAUxD,EAAIQ,GAEpB,GAAK4C,EAAL,CAEAnC,EAAId,YAA2B+D,EAAMC,MAAOD,EAAMV,SAAW,IAE7D,IAAMY,EAAahD,YAAQoC,GAAS,SAACnC,GACnCA,EAAMgD,SAAQ,SAAC/D,GAAU,IAAD,IAClBgE,EAAa,UAAGJ,EAAMV,QAAQe,MAAK,SAACC,GAAD,OAAOA,EAAEjE,OAASD,EAAKC,eAA7C,aAAG,EAAiDkE,OAGrE,GAFAnE,EAAKP,IAAL,cAAkB4B,eAEb2C,IAELA,EAAgBlD,YAAQkD,GAAe,SAACjD,GAEtC2C,EAAsBK,SAAQ,SAACtE,GAC7B,GAAI2E,MAAMC,QAAQ5E,GAAM,CACtB,kBAAqBA,EAArB,GAAO6E,EAAP,KAAaC,EAAb,KACID,KAAQvD,GAASwD,KAASxD,EAAcuD,KACzCvD,EAAcuD,GAAMC,GAASvE,EAAKmE,OAAeG,GAAMC,SAGzDxD,EAActB,GAAQO,EAAKmE,OAAe1E,SAKjDO,EAAKmE,OAASH,EAEVhE,EAAKC,OAASuE,IAAeC,QAAjC,CAIA,IAAMC,EAAe,UAAId,EAAMV,QAAQe,MAAK,SAACC,GAAD,OAAOA,EAAEjE,OAASD,EAAKC,eAA9C,aAAG,EAA0D0E,SAElF3E,EAAK2E,SAAWD,SAIpB/D,EACEoC,IACAjC,YAAQgC,GAAc,SAAC/B,GACrBA,EAAMpB,UAAYiE,EAAMC,KACxB9C,EAAMmC,QAAUY,MAIpBnD,EACEP,IACA0D,EAAWhE,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAoBD,GAArB,kBAA2BC,EAAKO,GAAKP,MAAS,KAGlEW,EAAI8C,IAA2B/D,EAAIqD,WAI1B6B,EAAgCpF,YAAiC,CAC5EC,IAAK,gCACLC,IAAK,kBAAM,MACXiB,IAH4E,WAG/DkE,GAAkB,IAAzBlE,EAAwB,EAAxBA,IACAkE,aAA2BhE,MAAiBgE,IAEhDlE,EAAIf,IAA0BiF,EAAgBlF,WAC9CgB,EAAIoC,IAAmB8B,GAEvBlE,EACEP,IACAyE,EAAgB3B,QAAQpD,QAAO,SAACC,EAAKC,GAAN,mBAAC,eAAoBD,GAArB,kBAA2BC,EAAKO,GAAKP,MAAS,KAE/EW,EACEN,IACAwE,EAAgB3B,QAAQ5C,KAAI,SAACN,GAAD,MAAW,CACrCO,GAAIP,EAAKO,GACT4B,MAAOC,IAAmBpC,EAAKC,MAC/BA,KAAMD,EAAKC,UAIfU,EAAI8C,IAA2BoB,OAItBzB,EAA+B5D,YAAkB,CAC5DC,IAAK,+BACLC,IAAK,YAAc,IAAXA,EAAU,EAAVA,IACAoF,EAAuBpF,EAAI+D,KAC3BX,EAAepD,EAAIqD,KACnBG,EAAUxD,EAAIQ,GAEpB,OAAQ6E,kBAAQD,EAAD,YAAC,eAA2BhC,GAA5B,IAA0CI,gBAIvD8B,EAAa,CAAC,WACPC,EAAuBzF,YAA4B,CAC9DC,IAAK,uBACLC,IAAK,YAAc,IACXwF,GAAOxF,EADG,EAAVA,KACWyF,KAEjB,OAAOrE,YAAQoE,GAAM,SAACnE,GACpBA,EAAMwB,MAAK,SAAC6C,EAAGC,GACb,OAAOL,EAAWM,QAAQD,EAAExB,KAAK0B,eAAiBP,EAAWM,QAAQF,EAAEvB,KAAK0B,wBAMvEC,EAA6BhG,YAAiD,CACzFC,IAAK,6BACLC,IAAK,kBAAM,MACXiB,IAAK,WAAeC,GAAc,IAA1BD,EAAyB,EAAzBA,IAAKjB,EAAoB,EAApBA,IACX,KAAIkB,aAAoBC,MAAiBD,EAAzC,CAEA,IAAQ6E,EAAgB7E,EAAhB6E,KAAMtD,EAAUvB,EAAVuB,MACRuD,EAAehG,EAAIuD,KAEzBtC,EACEsC,IACAnC,YAAQ4E,GAAc,SAAC3E,GACL2E,EAAaD,KAI7B1E,EAAM0E,GAAMtD,MAAQA,WAOfwD,EAA8BnG,YAAS,CAClDC,IAAK,8BACLC,IAAK,kBAAM,MACXiB,IAAK,YAAgB,IAAbiF,EAAY,EAAZA,MACNA,EAAMhG,KACNgG,EAAMC,KACND,EAAM7C,KACN6C,EAAMxF,KACNwF,EAAM3C,KACN2C,EAAMnC,KACNmC,EAAMvF,QAIGyF,EAAiBtG,YAAS,CACrCC,IAAK,iBACLC,IAAK,aACLiB,IAAK,YAAgB,IAAbiF,EAAY,EAAZA,MACNG,cAEAH,EAAMD,GACNC,EAAMT,KACNS,EAAMhG,KACNgG,EAAMC,KACND,EAAM7C,KACN6C,EAAMxF,KACNwF,EAAMvF,KACNuF,EAAMI,KACNJ,EAAMK,KACNL,EAAM3C,KACN2C,EAAMnC,KACNmC,EAAMM,KACNN,EAAMO,S,kJC9XGC,EAAU,CACrB1G,IAAI,WAAD,4BAAE,WAAOmE,GAAP,mBAAAuB,EAAA,+EACI,MADJ,gDAGgE,GAHhE,iBAGKiB,EAHL,EAGKA,MAAOC,EAHZ,EAGYA,WAHZ,0CAKqBD,GALrB,aAOCC,EAAajD,KAAKC,OAPnB,0CAOiC+C,GAPjC,yBASGE,IAAYC,WAAW3C,GAT1B,iCAWI,MAXJ,4CAAF,mDAAC,GAaJlD,IAAI,WAAD,4BAAE,WAAOkD,EAAcwC,EAAYI,GAAjC,SAAArB,EAAA,+EAEKmB,IAAYG,QAAQ7C,EAApB,aACJwC,SACII,EAAW,GAAK,CAAEH,WAAYjD,KAAKC,MApB3B,UAgBb,iCAOM,GAPN,0DASM,GATN,wDAAF,uDAAC,I,8BCVSqD,E,kFAAf,WAA6BC,EAASC,EAAaC,GAAnD,uBAAA1B,EAAA,yDACyB,cAAZ,OAAP0B,QAAO,IAAPA,OAAA,EAAAA,EAASC,OADf,gCAEiBH,EAAGC,EAAD,aACbG,OAAQ,OACLF,IAJT,wDAQmCA,GAAW,IAApCG,OAAWC,EARrB,iBASQC,EAAOC,IAAWC,IAAI,CAAER,MAAKC,QAASI,IAT9C,SAW2Bd,EAAQ1G,IAAIyH,GAXvC,YAWQG,EAXR,kDAayBC,QAAQC,QAAQF,IAbzC,yBAeqBV,EAAGC,EAAD,aACnBG,OAAQ,OACLF,IAjBP,eAeQW,EAfR,iBAoBQrB,EAAQzF,IAAIwG,EAAMM,GApB1B,iCAsBSF,QAAQC,QAAQC,IAtBzB,6C,+BAyBeC,E,gFAAf,WAA0Bb,EAAaC,GAAvC,SAAA1B,EAAA,+EACSuB,EAAcgB,IAASd,EAAKC,IADrC,4C,+BAIec,E,gFAAf,WAAgCf,EAAaC,GAA7C,SAAA1B,EAAA,+EACSuB,EAAckB,IAAehB,EAAKC,IAD3C,4C,+BAIegB,E,gFAAf,WAA2BjB,EAAaC,GAAxC,SAAA1B,EAAA,sEACeuC,YAAQd,EAAD,aAClBG,OAAQ,QACLF,IAHP,oF,sBAOO,IAAMiB,EAAa,CACxBrI,IAAI,WAAD,4BAAE,WAAOmH,EAAaC,GAApB,SAAA1B,EAAA,+EACIsC,EAAW,GAAD,OAAIb,GAAOC,IADzB,2CAAF,qDAAC,GAGJkB,KAAK,WAAD,4BAAE,WAAOnB,EAAaC,GAApB,SAAA1B,EAAA,+EACG0C,EAAY,GAAD,OAAIjB,GAAOC,IADzB,2CAAF,qDAAC,GAGLmB,QAAQ,WAAD,4BAAE,WAAOpB,EAAaC,GAApB,SAAA1B,EAAA,+EACAsC,EAAW,QAAD,OAASb,GAAOC,IAD1B,2CAAF,qDAAC,GAGRoB,SAAS,WAAD,4BAAE,WAAOrB,EAAaC,GAApB,SAAA1B,EAAA,+EACD0C,EAAY,QAAD,OAASjB,GAAOC,IAD1B,2CAAF,qDAAC,GAGTqB,UAAU,WAAD,4BAAE,WAAOtB,EAAaC,GAApB,SAAA1B,EAAA,+EACFwC,EAAiBf,EAAKC,IADpB,2CAAF,qDAAC,K,iCC7DZ,+CAEasB,EAAS,CACpBC,MADoB,SACdC,GACJC,IAAaF,MAAM,CACjBC,QAAS,QACTE,YAAaF,KAGjBG,QAPoB,YAO0D,IAApEH,EAAmE,EAAnEA,QAAmE,IAA1DI,aAA0D,MAAlD,UAAkD,EAC3EH,IAAaE,QAAQ,CACnBH,QAASI,EACTF,YAAaF,O,gCCZZ,IAAK9D,EASAmE,EATZ,oE,SAAYnE,K,YAAAA,E,cAAAA,E,uBAAAA,E,gBAAAA,E,gBAAAA,E,iBAAAA,M,cASAmE,K,yBAAAA,E,qCAAAA,E,uCAAAA,M,6KCJNC,EAAUC,IAAOC,IAAV,4OAaAC,EAAiBC,gBAAK,WACjC,OACE,cAACJ,EAAD,UACE,cAAC,IAAD,CAAiBK,MAAO,CAAEC,SAAU,GAAIC,MAAOvF,IAAMwF,OAAOC,gB,0HCnBrDC,EAAW,uCAAG,WAAOC,GAAP,eAAAnE,EAAA,+EAEJ2C,IAAWE,QAAQ,cAAe,CAAEhB,OAAQsC,IAFxC,cAEjB9B,EAFiB,yBAIhBA,GAJgB,uCAMvB+B,QAAQC,MAAR,MANuB,kBAOhB,MAPgB,yDAAH,sDCOXC,EAAYV,gBAAiB,SAACW,GACzC,IAAMC,EAAUC,cACVC,EAAgBC,YAAkB9D,KAClC+D,EAASC,YAAoBnE,KACnC,EAAgCoE,YAAe/D,KAA/C,mBAAOgE,EAAP,KAAiBC,EAAjB,KA4BA,OA1BAC,qBAAU,WACR,IAAMC,EAAQ,IAAIC,gBADJ,4CAEd,4BAAAnF,EAAA,6DACE0E,GAAc,GADhB,SAEyCR,EAAYgB,EAAMrD,QAF3D,UAEQQ,EAFR,OAIEqC,GAAc,GACTrC,EALP,uBAMIuC,IACAJ,EAAQtH,KAAK,UAPjB,0BAaE8H,EAAY3C,EAAK+C,KAbnB,6CAFc,sBAoBd,OAFKL,GAlBS,mCAkBCM,GAER,eAIN,IAEI,cAAC,IAAD,eAAWd,O,QCtCPe,EAAcC,YAAH,w+CAEP,SAACC,GAAD,OAAOA,EAAEhH,MAAMsF,SAAS2B,QAYrB,SAACD,GAAD,OAAOA,EAAEhH,MAAMkH,QAAQC,MACtB,SAACH,GAAD,OAAOA,EAAEhH,MAAMkH,QAAQC,MAkChB,SAACH,GAAD,OAAOI,YAAiBJ,EAAEhH,MAAMwF,OAAOC,QAAS,OAItD,SAACuB,GAAD,OAAOA,EAAEhH,MAAMkH,QAAQC,MCrDhCE,G,OAAuC,CAClDC,KAAM,CACJC,iBAAkB,CAEhBC,SAAU,wBACVC,MAAO,CAELC,MAAO,6BCRFC,EAAwB,CACnC,CACEC,KAAM,SACNC,OAAO,EACPC,UAAWC,aAAS,kBAAM,wDAE5B,CACEH,KAAM,IACNC,OAAO,EAEPC,UAAWC,aAAS,kBAAM,+DAE5B,CACEH,KAAM,gBACNC,OAAO,EAEPC,UAAWC,aAAS,kBAAM,gECFxBC,EAAeD,aAAS,kBAAM,iCAE9BE,EAAgB7C,gBAAK,WACzB,IAAM8C,EAAWC,cAQjB,OAPA1B,qBAAU,WAAM,oBAEKyB,EAASE,kBAAkB,CAAEC,YAAY,KAF9C,IAEd,2BAAqE,CAAC,IAA3DC,EAA0D,QACnE1C,QAAQC,MAAMyC,EAAKzM,IAAKqM,EAASK,YAAYD,GAAME,aAHvC,iCAKb,CAACN,IAEG,QAGHO,EAAarD,gBAAK,WACtB,IAAMsD,EAAYC,YAAetG,KAEjC,OACE,qCACGqG,GAAa,cAACvD,EAAD,IACd,cAAC,IAAD,UACE,eAAC,IAAD,CAAenF,MAAOA,IAAtB,UACE,cAAC8G,EAAD,IACA,cAAC,IAAD,2BAAoBO,GAApB,aACE,cAAC,IAAD,CAAQuB,SAAUC,cAAlB,SACE,eAAC,IAAD,WACGlB,EAAOjL,KAAI,SAACoM,GAAD,OACVA,EAAMC,KACJ,cAACjD,EAAD,CAEE8B,KAAMkB,EAAMlB,KACZC,MAAOiB,EAAMjB,MACbC,UAAWgB,EAAMhB,WAHZgB,EAAMlB,MAMb,cAAC,IAAD,CAEEA,KAAMkB,EAAMlB,KACZC,MAAOiB,EAAMjB,MACbC,UAAWgB,EAAMhB,WAHZgB,EAAMlB,SAOjB,cAAC,IAAD,CAAOE,UAAWE,uBAUrBgB,EAAM5D,gBAAK,WACtB,OACE,eAAC,IAAD,WACE,cAAC6C,EAAD,IACA,cAACQ,EAAD,UC3DSQ,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACZ,EAAD,MAEFa,SAASC,eAAe,SAM1Bb,K,mgBCZO,SAASrK,EAA4BmL,EAAwBC,GAClE,OAAID,EAAM1N,OAASuE,IAAeqJ,QAAgB,EAC9CD,EAAM3N,OAASuE,IAAeqJ,QAE9BF,EAAM1N,OAASuE,IAAesJ,OAFe,EAG7CF,EAAM3N,OAASuE,IAAesJ,QAAgB,EAE3C,EAOF,IAAM3I,EAAoB4I,YAAwB,CACvDtO,IAAK,oBACLuO,QAAS,KAGEpO,EAA2BmO,YAAa,CACnDtO,IAAK,sBACLuO,QAAS,KAGEnI,EAAyBkI,YAAa,CACjDtO,IAAK,yBACLuO,QAAS,KAGEnO,EAA6BoO,YAAmC,CAC3ExO,IAAK,6BACLuO,QAAS,KAGEjL,EAAoBgL,YAA6B,CAC5DtO,IAAK,oBACLuO,QAAS,OAOE5N,EAAwB2N,YAAuB,CAC1DtO,IAAK,wBACLuO,QAASxO,YAAS,CAChBC,IAAK,gCACLC,IAAK,YAAc,IAAD,EACVoD,GAAepD,EADL,EAAVA,KACmBqD,GAEzB,OAAKD,EAEL,UAAOA,EAAaI,eAApB,aAAO,EAAsBpD,QAC3B,SAACC,EAAKC,GAAN,mBAAC,eACID,GADL,kBAEGC,EAAKO,GAAKP,MAEb,IAPwB,QAiBnBK,EAAyB0N,YAAwB,CAC5DtO,IAAK,yBACLuO,QAASxO,YAAS,CAChBC,IAAK,iCACLC,IAAK,YAAc,IACXS,GAAmBT,EADT,EAAVA,KACuBU,GAEvB8E,EAAOrD,OAAOC,OAAO3B,GAAkBG,KAAI,SAACN,GAAD,MAAW,CAC1DO,GAAIP,EAAKO,GACT4B,MAAOC,IAAmBpC,EAAKC,MAC/BA,KAAMD,EAAKC,SAKb,OAFAiF,EAAK3C,KAAKC,GAEH0C,OAKAc,EAAoB+H,YAAc,CAC7CtO,IAAK,oBACLuO,SAAS,IAGE/H,EAAiB8H,YAAc,CAC1CtO,IAAK,iBACLuO,SAAS,IAGE/K,EAAqB8K,YAAyB,CACzDtO,IAAK,qBACLuO,QAAS,KAGEvK,EAA4BsK,YAA6B,CACpEtO,IAAK,4BACLuO,QAAS,OAGE9H,EAAe6H,YAAyB,CACnDtO,IAAK,eACLuO,QAAS,M,0cC7GLE,EAAW,CACf5C,MAEE,8aAKS6C,EAAa,SAAClO,EAAmBoG,GAC5C,IAAM+H,EAAUF,EAASjO,GAEzB,OAAKmO,GAEEA,EAAQC,KAAKhI,IAGf,SAAShF,IACd,MAAO,uCAAuCiN,QAAQ,SAAS,SAAUC,GACvE,IAAIC,EAAqB,GAAhBC,KAAKC,SAAiB,EAE/B,OADY,MAANH,EAAYC,EAAS,EAAJA,EAAW,GACzBG,SAAS,OAIf,IAAMC,EAAU,SAAI1J,EAAW2J,EAAoBC,GACxD,IAAMC,EAAS3K,MAAM4K,KAAK9J,GAC1B,EAAkB6J,EAAO1M,OAAOwM,EAAY,GAArCI,EAAP,oBAGA,OAFAF,EAAO1M,OAAOyM,EAAU,EAAGG,GAEpBF,GAGIG,EAAqB,SAAiChK,GACjE,OAAOA,EAAKpF,QACV,SAACC,EAAKC,GASJ,OARIA,EAAKC,OAASuE,IAAeqJ,OAC/B9N,EAAI,GAAGuC,KAAKtC,GACHA,EAAKC,OAASuE,IAAesJ,OACtC/N,EAAI,GAAGuC,KAAKtC,GAEZD,EAAI,GAAGuC,KAAKtC,GAGPD,IAET,CAAC,GAAI,GAAI,MAIb,SAASoP,EAAWC,EAAeC,GACjC,OAAIjL,MAAMC,QAAQgL,GACTA,EAGLA,GAAgC,kBAAbA,EACdC,YAAUF,EAAUC,EAAUF,GAGZ,qBAAbE,EAA2BA,EAAWD,EAG/C,SAASpO,IAA8B,IAAD,uBAAhBuO,EAAgB,yBAAhBA,EAAgB,gBAE3C,OAAOD,IAAUE,MAAM,KAAhB,UAA0BD,EAA1B,CAAgCJ,KAGlC,SAASM,IACd,OAAO,EAGF,SAAeC,EAAtB,oC,4CAAO,WAAwBC,EAAY1P,GAApC,SAAAmF,EAAA,+EACE,IAAImC,SAAQ,SAACC,EAASoI,GAC3B,IAAMC,EAAS,IAAIC,WAEnB,OAAQ7P,GACN,IAAK,OACH4P,EAAOE,WAAWJ,GAClB,MACF,IAAK,QACHE,EAAOG,cAAcL,GAIzBE,EAAOI,QAAU,SAAC5H,GAAD,OAAWuH,EAAOvH,IACnCwH,EAAOK,OAAS,kBAAM1I,EAAQqI,EAAOd,aAdlC,4C,sBAkBA,IAAM/D,EAAmB,SAACmF,EAAiBC,GAChD,IAAIC,EAAMF,EAAQ7B,QAAQ,IAAK,IAEZ,IAAf+B,EAAIrO,SACNqO,EAAG,UAAMA,EAAI,IAAV,OAAeA,EAAI,IAAnB,OAAwBA,EAAI,IAA5B,OAAiCA,EAAI,IAArC,OAA0CA,EAAI,IAA9C,OAAmDA,EAAI,KAG5D,IAAM7B,EAAI8B,SAASD,EAAIE,UAAU,EAAG,GAAI,IAClCC,EAAIF,SAASD,EAAIE,UAAU,EAAG,GAAI,IAClClL,EAAIiL,SAASD,EAAIE,UAAU,EAAG,GAAI,IAExC,MAAM,QAAN,OAAe/B,EAAf,YAAoBgC,EAApB,YAAyBnL,EAAzB,YAA8B+K,EAAU,IAAxC,MAGK,SAAS7M,EAAwBxC,GAatC,OAZAc,OAAO4O,KAAK1P,GAAOgD,SAAQ,SAACtE,GAC1B,IAAMO,EAAQe,EAActB,GAEhB,OAARA,EACDsB,EAAD,kBAA+BM,KACtB+C,MAAMC,QAAQrE,GACvBA,EAAK+D,SAAQ,SAACG,GAAD,OAAYX,EAASW,MACzBlE,GAAwB,kBAATA,GACxBuD,EAASvD,MAINe,EAGF,SAAS2P,EAA6B3P,EAAyB0P,GACpE5O,OAAO4O,KAAK1P,GAAOgD,SAAQ,SAACtE,GAC1B,IAAMO,EAAQe,EAActB,GAExBgR,EAAKE,SAASlR,UACRsB,EAActB,GACb2E,MAAMC,QAAQrE,GACvBA,EAAK+D,SAAQ,SAACG,GAAgBwM,EAAWxM,EAAGuM,MACnCzQ,GAAwB,kBAATA,GACxB0Q,EAAW1Q,EAAMyQ,MAKhB,IAAMG,EAAa,SAACC,EAAqBC,GAC9C,IAAMC,EAAoB,kBAATF,EAAoB,IAAIxN,KAAKwN,GAAQA,EACtD,EAAmC,CACjCE,EAAEC,UACFD,EAAEE,WAAa,EACfF,EAAEG,cACFH,EAAEI,WACFJ,EAAEK,aACFL,EAAEM,cANGC,EAAP,KAAWC,EAAX,KAAeC,EAAf,KAAqBC,EAArB,KAAyBC,EAAzB,KAA6BC,EAA7B,KASA,OAAOb,EACJxC,QAAQ,MAAOgD,EAAK,GAAL,WAAcA,GAAd,UAAwBA,IACvChD,QAAQ,MAAOiD,EAAK,GAAL,WAAcA,GAAd,UAAwBA,IACvCjD,QAAQ,QAHJ,UAGgBkD,IACpBlD,QAAQ,MAAOmD,EAAK,GAAL,WAAcA,GAAd,UAAwBA,IACvCnD,QAAQ,MAAOoD,EAAK,GAAL,WAAcA,GAAd,UAAwBA,IACvCpD,QAAQ,MAAOqD,EAAK,GAAL,WAAcA,GAAd,UAAwBA,M,8JCvJ/BvP,GAAkB,mBAC5BoC,IAAeoN,KAAO,eADM,cAE5BpN,IAAeqN,MAAQ,gBAFK,cAG5BrN,IAAesN,UAAY,qBAHC,cAI5BtN,IAAeqJ,OAAS,iBAJI,cAK5BrJ,IAAesJ,OAAS,iBALI,cAM5BtJ,IAAeC,OAAS,iBANI,GASlB7C,GAAyD,mBACnE4C,IAAeqJ,OAAS,GAD2C,cAEnErJ,IAAesJ,OAAS,GAF2C,GAKzDiE,EAAuC,CAClDxR,GAAI,GACJsD,KAAM,WACNmO,MAAO,GACP9O,QAAS,GACT+O,gBAAiB,UACjBC,aAAc,IACdC,KAAM,qBACNxS,UAAW,Y,8QCtBPyS,EAAY,eACX,SAASrM,IACdsM,aAAa7L,WAAW4L,GAGnB,SAASE,EAAUC,GACxBF,aAAa3L,QAAQ0L,EAAWG,GAG3B,SAASC,IACd,OAAOH,aAAaI,QAAQL,GAG9B,IAAMM,EAAS,uCAAG,WAAOC,EAAiB9L,EAAaC,GAArC,mCAAA1B,EAAA,6DACVmN,EAAQC,IACCI,GAFC,EAE2B9L,GAAW,IAAhD+L,QAAwBC,EAFd,iBAGVC,EAHU,UAGGJ,GAHH,OAGa9L,GAQG,YAN1BgM,EALU,yBAMd,eAAgB,oBACZN,EAAQ,CAAES,cAAc,UAAD,OAAYT,IAAY,IAChDK,IAGO,wBACHC,EAAQ,gBAZD,SAeGI,MAAMF,EAAD,aACtB/L,OAAQ,MACR6L,WACGC,IAlBW,aAeVrL,EAfU,QAsBPyL,OAAS,KAAOzL,EAAKyL,QAAU,KAtBxB,kCAuBiBzL,EAAK0L,OAvBtB,cAuBR9K,EAvBQ,OAyBVC,EAAkB,GACM,kBAAjBD,EAAM+K,OACf9K,EAAUD,EAAM+K,QACP,UAAA/K,EAAM+K,cAAN,eAAcpR,QAAS,IAChCsG,EAAUD,EAAM+K,OAAO9S,KAAI,SAAC4D,GAAD,OAAOA,EAAEmP,OAAKC,KAAK,OAEhDlL,IAAOC,MAAMC,GAEPiL,MAAM,IAjCE,aAoCVC,EApCU,OAoCMX,QApCN,IAoCMA,OApCN,EAoCMA,EAAkB,kBACH,qBAAjBW,EArCJ,0CAsCP/L,GAtCO,mCA2CDA,EAAKgM,QAAQN,OA3CZ,qGA6CP1L,EAAKiM,QA7CE,2DAAH,0DAiDTC,GAAW,UAAAlH,sQAAA,eAAamH,qBAAsB,GAC7C,SAAejM,EAAtB,oC,4CAAO,WAAuBd,EAAaC,GAApC,SAAA1B,EAAA,+EAEUsN,EAAUiB,EAAU9M,EAAKC,GAFnC,iGAIIS,QAAQqI,OAAR,OAJJ,yD,sBAQA,SAAe/H,EAAtB,oC,4CAAO,WAA6BhB,EAAaC,GAA1C,SAAA1B,EAAA,+EAEUsN,EAAU,GAAI7L,EAAKC,GAF7B,iGAIIS,QAAQqI,OAAR,OAJJ,yD,wDCvEP,kCAAO,IAAMhM,EAAsB,CACjCwF,OAAQ,CACNC,QAAS,UACTwK,GAAI,UACJC,OAAQ,UACRC,KAAM,UACNC,SAAU,UACVC,YAAa,UACbC,aAAc,UACdC,OAAQ,UACR9L,MAAO,UACP+L,QAAS,UACTC,OAAQ,UACR5L,QAAS,UACT6L,WAAY,UACZZ,KAAM,UACNa,KAAM,CACJJ,OAAQ,UACR1L,QAAS,UACTY,QAAS,WAEXmL,YAAa,WAEftL,SAAU,CACR2B,KAAM,OACN4J,KAAM,OACN1J,GAAI,WACJ2J,GAAI,WACJC,GAAI,WACJC,GAAI,YAEN9J,QAAS,CACPC,GAAI,SACJ2J,GAAI,SACJC,GAAI,SACJC,GAAI,U,gCCrCR,6CAEazO,EAAgB4H,YAAsB,CACjDtO,IAAK,gBACLuO,QAAS,S","file":"static/js/main.f5eac5a8.chunk.js","sourcesContent":["import { MaxModuleInEdmDesign, ModuleNamesMapping } from '@app/constants';\nimport { ModuleTypeEnum } from '@app/enums';\nimport { removeToken } from '@services/api/base-api';\nimport { mergeDeep, updateId, uuidv4 } from '@utils/helpers';\nimport produce from 'immer';\nimport { isEqual } from 'lodash';\nimport { DefaultValue, selector, selectorFamily } from 'recoil';\nimport {\n  applyFixedItemOfModuleOrder,\n  availModuleListFamilyState,\n  currentDesignNameState,\n  currentEdmThemeNameState,\n  designConfigState,\n  designHistoryState,\n  designModuleCollState,\n  designModuleOrderState,\n  edmThemeListState,\n  htmlKeyState,\n  isLoadingState,\n  isReorderingState,\n  originalDesignConfigState,\n} from './atoms';\nimport { userInfoState } from './user-info';\n\nconst availModuleCollSelector = selector<ModuleCollection>({\n  key: 'availModuleCollSelector',\n  get: ({ get }) => {\n    const themeName = get(currentEdmThemeNameState);\n    const modules = get(availModuleListFamilyState(themeName));\n\n    return (\n      modules.reduce(\n        (acc, item) => ({\n          ...acc,\n          [item.type]: item,\n        }),\n        {}\n      ) || {}\n    );\n  },\n});\n\nexport const designModulesConfigInOrderSelector = selector<ModuleConfig[]>({\n  key: 'designModulesConfigInOrderSelector',\n  get: ({ get }) => {\n    const moduleCollection = get(designModuleCollState);\n    const moduleOrder = get(designModuleOrderState);\n\n    return moduleOrder.map((item) => moduleCollection[item.id]);\n  },\n});\n\nexport const singleDesignModuleSelector = selectorFamily<ModuleConfig, string>({\n  key: 'singleDesignModuleSelector',\n  get:\n    (moduleId) =>\n    ({ get }) => {\n      const moduleCollection = get(designModuleCollState);\n\n      return moduleCollection[moduleId];\n    },\n  set:\n    (moduleId) =>\n    ({ set, get }, newValue) => {\n      if (!newValue || newValue instanceof DefaultValue) return;\n\n      let moduleCollection = get(designModuleCollState);\n\n      set(\n        designModuleCollState,\n        produce(moduleCollection, (draft) => {\n          draft[moduleId] = mergeDeep({}, draft[moduleId], newValue);\n        })\n      );\n    },\n});\n\nexport const addNewModuleToCurrentDesignSelector = selector<{\n  moduleType?: ModuleTypeEnum;\n  index?: number;\n  sourceData?: ModuleConfig;\n} | null>({\n  key: 'addNewModuleToCurrentDesignSelector',\n  get: () => null,\n  set: ({ get, set }, payload) => {\n    if (payload instanceof DefaultValue || !payload) return;\n\n    let newModule: ModuleConfig | null = null;\n\n    const newId = uuidv4();\n\n    const { moduleType, index: position, sourceData } = payload;\n\n    if (sourceData) {\n      // duplicate\n      newModule = { ...sourceData, id: newId } as ModuleConfig;\n    } else if (moduleType) {\n      const availableModules = get(availModuleCollSelector);\n\n      const moduleDetails = availableModules[moduleType];\n\n      if (moduleDetails) {\n        newModule = { ...moduleDetails, id: newId };\n      }\n    }\n\n    if (!newModule) return;\n\n    const designModuleCollection = get(designModuleCollState);\n\n    // checking maximum item could be added\n    if (MaxModuleInEdmDesign[newModule.type]) {\n      const addedNo = Object.values(designModuleCollection).filter(\n        (item) => item.type === newModule?.type\n      ).length;\n\n      if (addedNo === MaxModuleInEdmDesign[newModule.type]) return;\n    }\n\n    // add new item to collection\n    set(\n      designModuleCollState,\n      produce(designModuleCollection, (draft) => {\n        if (newModule) draft[newId] = newModule;\n      })\n    );\n\n    const newList = produce(get(designModuleOrderState), (draft) => {\n      if (newModule) {\n        const moduleOrderItem: ModuleOrderItem = {\n          id: newId,\n          label: ModuleNamesMapping[newModule.type],\n          type: newModule.type,\n        };\n\n        if (typeof position === 'number') {\n          draft.splice(position, 0, moduleOrderItem);\n        } else {\n          draft.push(moduleOrderItem);\n        }\n\n        draft = draft.sort(applyFixedItemOfModuleOrder);\n      }\n    });\n\n    // add new item to module list order\n    set(designModuleOrderState, newList);\n  },\n});\n\nexport const removeModuleSelector = selector<string | null>({\n  key: 'removeModuleSelector',\n  get: () => null,\n  set: ({ set, get }, id) => {\n    if (!id) return;\n\n    const moduleCollection = get(designModuleCollState);\n\n    set(\n      designModuleCollState,\n      produce(moduleCollection, (draft) => {\n        delete draft[id as string];\n      })\n    );\n\n    const moduleOrder = get(designModuleOrderState);\n    const newOrder = moduleOrder.filter((item) => item.id !== id);\n\n    set(designModuleOrderState, newOrder);\n  },\n});\n\nexport const saveDesignSelector = selector<\n  { htmlFileKey?: string; screenshot?: string } | null | undefined\n>({\n  key: 'saveDesignSelector',\n  get: () => null,\n  set: ({ get, set }, newValue) => {\n    if (newValue instanceof DefaultValue || !newValue) return;\n\n    const { htmlFileKey, screenshot } = newValue;\n\n    const designConfig = get(designConfigState);\n    const designHistory = get(designHistoryState);\n\n    const modules = get(designModulesConfigInOrderSelector);\n\n    if (!designConfig) return;\n\n    const updatedDesignConfig = produce(designConfig, (draft) => {\n      draft.modules = modules;\n    });\n\n    set(designConfigState, updatedDesignConfig);\n\n    if (get(designConfigModifiedSelector)) {\n      set(\n        designHistoryState,\n        produce(designHistory, (draft) => {\n          draft[Date.now()] = {\n            label: '',\n            designConfig: produce(updatedDesignConfig, (draft) => {\n              updateId<EdmDesignConfig>(draft);\n            }),\n            thumb: screenshot,\n            htmlFileKey: htmlFileKey || '',\n          };\n        })\n      );\n\n      set(originalDesignConfigState, updatedDesignConfig);\n    }\n  },\n});\n\nconst ConfigPropsNeedToKeep: Array<string | string[]> = ['text', 'imgConfig', 'uploadedImages'];\n\nexport const applyThemeSelector = selector<Pick<EdmDesignConfig, 'name' | 'modules'> | null>({\n  key: 'applyThemeSelector',\n  get: () => null,\n  set({ get, set }, theme) {\n    if (theme instanceof DefaultValue || !theme) return;\n\n    const designConfig = get(designConfigState);\n    const modules = get(designModulesConfigInOrderSelector);\n\n    if (!designConfig) return;\n\n    set(availModuleListFamilyState(theme.name), theme.modules || []);\n\n    const newModules = produce(modules, (draft) => {\n      draft.forEach((item) => {\n        let newItemConfig = theme.modules.find((i) => i.type === item.type)?.config;\n        item.key = `new-${uuidv4()}`;\n\n        if (!newItemConfig) return;\n\n        newItemConfig = produce(newItemConfig, (draft) => {\n          // keep some props\n          ConfigPropsNeedToKeep.forEach((key) => {\n            if (Array.isArray(key)) {\n              const [key1, key2] = key;\n              if (key1 in draft && key2 in (draft as any)[key1]) {\n                (draft as any)[key1][key2] = (item.config as any)[key1][key2];\n              }\n            } else {\n              (draft as any)[key] = (item.config as any)[key];\n            }\n          });\n        });\n\n        item.config = newItemConfig;\n\n        if (item.type === ModuleTypeEnum.Spacer) {\n          return;\n        }\n\n        const newItemTemplate = (theme.modules.find((i) => i.type === item.type) as any)?.template;\n\n        item.template = newItemTemplate;\n      });\n    });\n\n    set(\n      designConfigState,\n      produce(designConfig, (draft) => {\n        draft.themeName = theme.name;\n        draft.modules = newModules;\n      })\n    );\n\n    set(\n      designModuleCollState,\n      newModules.reduce((acc, item) => ({ ...acc, [item.id]: item }), {})\n    );\n\n    set(originalDesignConfigState, get(designConfigState));\n  },\n});\n\nexport const replaceByDesignConfigSelector = selector<EdmDesignConfig | null>({\n  key: 'replaceByDesignConfigSelector',\n  get: () => null,\n  set({ set }, newDesignConfig) {\n    if (newDesignConfig instanceof DefaultValue || !newDesignConfig) return;\n\n    set(currentEdmThemeNameState, newDesignConfig.themeName);\n    set(designConfigState, newDesignConfig);\n\n    set(\n      designModuleCollState,\n      newDesignConfig.modules.reduce((acc, item) => ({ ...acc, [item.id]: item }), {})\n    );\n    set(\n      designModuleOrderState,\n      newDesignConfig.modules.map((item) => ({\n        id: item.id,\n        label: ModuleNamesMapping[item.type],\n        type: item.type,\n      }))\n    );\n\n    set(originalDesignConfigState, newDesignConfig);\n  },\n});\n\nexport const designConfigModifiedSelector = selector<boolean>({\n  key: 'designConfigModifiedSelector',\n  get: ({ get }) => {\n    const originalDesignConfig = get(originalDesignConfigState);\n    const designConfig = get(designConfigState);\n    const modules = get(designModulesConfigInOrderSelector);\n\n    return !isEqual(originalDesignConfig, { ...designConfig, modules });\n  },\n});\n\nconst ThemeOrder = ['default'];\nexport const edmThemeListSelector = selector<EdmDesignConfig[]>({\n  key: 'edmThemeListSelector',\n  get: ({ get }) => {\n    const list = get(edmThemeListState);\n\n    return produce(list, (draft) => {\n      draft.sort((a, b) => {\n        return ThemeOrder.indexOf(b.name.toLowerCase()) - ThemeOrder.indexOf(a.name.toLowerCase());\n      });\n    });\n  },\n});\n\nexport const savedDesignHistorySelector = selector<null | { time: string; label: string }>({\n  key: 'savedDesignHistorySelector',\n  get: () => null,\n  set: ({ set, get }, newValue) => {\n    if (newValue instanceof DefaultValue || !newValue) return;\n\n    const { time, label } = newValue;\n    const allHistories = get(designHistoryState);\n\n    set(\n      designHistoryState,\n      produce(allHistories, (draft) => {\n        const history = allHistories[time];\n\n        if (!history) return;\n\n        draft[time].label = label;\n      })\n    );\n  },\n});\n\n// RESET\nexport const clearDesignComposerSelector = selector({\n  key: 'clearDesignComposerSelector',\n  get: () => null,\n  set: ({ reset }) => {\n    reset(currentEdmThemeNameState);\n    reset(currentDesignNameState);\n    reset(designConfigState);\n    reset(designModuleCollState);\n    reset(designHistoryState);\n    reset(originalDesignConfigState);\n    reset(designModuleOrderState);\n  },\n});\n\nexport const logoutSelector = selector({\n  key: 'logoutSelector',\n  get: () => undefined,\n  set: ({ reset }) => {\n    removeToken();\n\n    reset(clearDesignComposerSelector);\n    reset(edmThemeListState);\n    reset(currentEdmThemeNameState);\n    reset(currentDesignNameState);\n    reset(designConfigState);\n    reset(designModuleCollState);\n    reset(designModuleOrderState);\n    reset(isReorderingState);\n    reset(isLoadingState);\n    reset(designHistoryState);\n    reset(originalDesignConfigState);\n    reset(htmlKeyState);\n    reset(userInfoState);\n  },\n});\n","import localforage from 'localforage';\n\nconst EXPIRE_TIME = 1000 * 60 * 60 * 24 * 7; // 1 week\n\nexport const caching = {\n  get: async (name: string) => {\n    return null;\n\n    const { value, expireTime } = (await localforage.getItem(name)) || {};\n\n    if (!expireTime) return value;\n\n    if (expireTime > Date.now()) return value;\n\n    await localforage.removeItem(name);\n\n    return null;\n  },\n  set: async (name: string, value: any, noExpire?: boolean) => {\n    try {\n      await localforage.setItem(name, {\n        value,\n        ...(noExpire ? {} : { expireTime: Date.now() + EXPIRE_TIME }),\n      });\n\n      return true;\n    } catch (e) {\n      return false;\n    }\n  },\n};\n","import objectHash from 'object-hash';\n\nimport { caching } from '@services/caching';\n\nimport { clientRequest, request } from './base-api';\n\nexport { request };\n\nasync function genGetRequest(rq: any, url: string, options?: RequestInit) {\n  if (options?.cache === 'no-cache') {\n    return await rq(url, {\n      method: 'GET',\n      ...options,\n    });\n  }\n\n  const { signal, ...optToHash } = options || {};\n  const hash = objectHash.MD5({ url, options: optToHash });\n\n  const localValue = await caching.get(hash);\n\n  if (localValue) return Promise.resolve(localValue);\n\n  const resp = await rq(url, {\n    method: 'GET',\n    ...options,\n  });\n\n  await caching.set(hash, resp);\n\n  return Promise.resolve(resp);\n}\n\nasync function getRequest(url: string, options?: RequestInit) {\n  return genGetRequest(request, url, options);\n}\n\nasync function clientGetRequest(url: string, options?: RequestInit) {\n  return genGetRequest(clientRequest, url, options);\n}\n\nasync function postRequest(url: string, options?: RequestInit) {\n  return await request(url, {\n    method: 'POST',\n    ...options,\n  });\n}\n\nexport const apiHelpers = {\n  get: async (url: string, options?: RequestInit) => {\n    return getRequest(`${url}`, options);\n  },\n  post: async (url: string, options?: RequestInit) => {\n    return postRequest(`${url}`, options);\n  },\n  authGet: async (url: string, options?: RequestInit) => {\n    return getRequest(`/auth${url}`, options);\n  },\n  authPost: async (url: string, options?: RequestInit) => {\n    return postRequest(`/auth${url}`, options);\n  },\n  clientGet: async (url: string, options?: RequestInit) => {\n    return clientGetRequest(url, options);\n  },\n};\n","import { notification } from 'antd';\n\nexport const notify = {\n  error(message: string) {\n    notification.error({\n      message: 'Error',\n      description: message,\n    });\n  },\n  success({ message, title = 'Success' }: { message: string; title?: string }) {\n    notification.success({\n      message: title,\n      description: message,\n    });\n  },\n};\n","export enum ModuleTypeEnum {\n  Text = 'text',\n  Image = 'image',\n  ImageText = 'image-text',\n  Header = 'header',\n  Footer = 'footer',\n  Spacer = 'spacer',\n}\n\nexport enum DroppableNames {\n  DesignArea = 'design-area',\n  AvailableModules = 'available-modules',\n  ModuleConfigArea = 'module-config-area',\n}\ndeclare global {\n  enum ModuleTypeEnum {\n    Text = 'text',\n    Image = 'image',\n    ImageText = 'image-text',\n    Header = 'header',\n    Footer = 'footer',\n    Spacer = 'spacer',\n  }\n\n  enum DroppableNames {\n    DesignArea = 'design-area',\n    AvailableModules = 'available-modules',\n    ModuleConfigArea = 'module-config-area',\n  }\n}\n","import { theme } from '@app/theme';\nimport { LoadingOutlined } from '@icons';\nimport { memo } from 'react';\nimport styled from 'styled-components';\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(255, 255, 255, 0.7);\n  z-index: 1;\n`;\n\nexport const OverlayLoading = memo(() => {\n  return (\n    <Overlay>\n      <LoadingOutlined style={{ fontSize: 30, color: theme.colors.primary }} />\n    </Overlay>\n  );\n});\n","import { apiHelpers } from './api';\n\nexport const getUserInfo = async (signalToAbort?: AbortSignal) => {\n  try {\n    const resp = await apiHelpers.authGet('/decode_jwt', { signal: signalToAbort });\n\n    return resp;\n  } catch (error) {\n    console.debug(error);\n    return null;\n  }\n};\n","import { isLoadingState } from '@recoil-atoms/atoms';\nimport { logoutSelector } from '@recoil-atoms/selectors';\nimport { memo, useEffect } from 'react';\nimport { Route, useHistory } from 'react-router';\nimport { RouteProps } from 'react-router-dom';\nimport { useRecoilState, useResetRecoilState, useSetRecoilState } from 'recoil';\nimport { userInfoState } from '../recoil-atoms/user-info';\nimport { getUserInfo } from '../services/profile';\n\nexport const AuthRoute = memo<RouteProps>((props) => {\n  const history = useHistory();\n  const toggleLoading = useSetRecoilState(isLoadingState);\n  const logout = useResetRecoilState(logoutSelector);\n  const [userInfo, setUserInfo] = useRecoilState(userInfoState);\n\n  useEffect(() => {\n    const abort = new AbortController();\n    async function getInfo() {\n      toggleLoading(true);\n      const resp: FetchDecodeJwtResp = await getUserInfo(abort.signal);\n\n      toggleLoading(false);\n      if (!resp) {\n        logout();\n        history.push('/login');\n\n        return;\n      }\n\n      // store user info\n      setUserInfo(resp.sub);\n    }\n\n    if (!userInfo) getInfo();\n\n    return () => {\n      // abort.abort();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return <Route {...props} />;\n});\n","import { convertHexToRGBA } from '@utils/helpers';\nimport { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  html {\n    font-size: ${(p) => p.theme.fontSize.base};\n  }\n   \n  b,strong {\n    font-weight: 500\n  }\n\n  .ant-form-vertical .ant-form-item {\n    flex-wrap: nowrap\n  }\n\n  .ant-upload-text {\n    padding-left: ${(p) => p.theme.spacing.xs};\n    padding-right: ${(p) => p.theme.spacing.xs};\n  }\n\n  .ant-divider-horizontal.no-margin {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  .ant-form-vertical .ant-form-item:last-of-type {\n    margin-bottom: 0;\n  }\n\n  img {\n    max-width: 100%;\n  }\n  \n  .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\n    text-shadow: none;\n  }\n\n  .tabs-left-in-modal.ant-tabs-left {\n    > .ant-tabs-content-holder > .ant-tabs-content > .ant-tabs-tabpane, .ant-tabs-left > div > .ant-tabs-content-holder > .ant-tabs-content > .ant-tabs-tabpane {\n      padding: 16px;\n      \n      overflow-y: auto;\n      height: 100%;\n    }\n\n    > .ant-tabs-nav .ant-tabs-tab {\n      padding-left: 16px;\n      transition: all 0.3s ease;\n\n      &.ant-tabs-tab-active,\n      &:hover{ \n        background-color: ${(p) => convertHexToRGBA(p.theme.colors.primary, 10)};\n      }\n\n      + .ant-tabs-tab {\n        margin-top: ${(p) => p.theme.spacing.xs}\n      }\n    }\n  }\n\n  .tabs-empty {\n    .ant-tabs-content {\n      height: 100%;\n    }\n\n    .ant-tabs-nav-list .ant-tabs-tab:first-of-type {\n      display: none;\n    }\n\n    &.tabs-left-in-modal.ant-tabs-left > .ant-tabs-nav .ant-tabs-tab:first-child + .ant-tabs-tab {\n      margin-top: 0;\n    }\n  }\n\n  .ant-layout-header {\n    display: flex;\n    align-items: center;\n    box-shadow: 0 2px 2px #ddd;\n  }\n}\n`;\n","import { ConfigProviderProps } from 'antd/lib/config-provider';\nimport './antd-theme.less';\n\nexport const configProviders: ConfigProviderProps = {\n  form: {\n    validateMessages: {\n      // eslint-disable-next-line no-template-curly-in-string\n      required: '${label} is required!',\n      types: {\n        // eslint-disable-next-line no-template-curly-in-string\n        email: '${label} is not valid',\n      },\n    },\n  },\n};\n","import loadable from '@loadable/component';\n\nexport const routes: RouteConfig[] = [\n  {\n    path: '/login',\n    exact: true,\n    component: loadable(() => import('../pages/LoginPage')),\n  },\n  {\n    path: '/',\n    exact: true,\n    // auth: true,\n    component: loadable(() => import('../pages/EDMComposer')),\n  },\n  {\n    path: '/edm-composer',\n    exact: true,\n    // auth: true,\n    component: loadable(() => import('../pages/EDMComposer')),\n  },\n];\n","import { OverlayLoading } from '@components/OverlayLoading';\nimport loadable from '@loadable/component';\nimport { isLoadingState } from '@recoil-atoms/atoms';\nimport { ErrorBoundary } from '@uikits';\nimport { ConfigProvider } from 'antd';\nimport { memo, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { RecoilRoot, useRecoilSnapshot, useRecoilValue } from 'recoil';\nimport { ThemeProvider } from 'styled-components';\nimport { AuthRoute } from '../components/AuthRoute';\nimport { GlobalStyle } from '../components/GlobalStyles';\nimport './antd-theme';\nimport { configProviders } from './antd-theme';\nimport { routes } from './routes';\nimport { theme } from './theme';\n\nconst NotFoundPage = loadable(() => import('../pages/NotFound'));\n\nconst DebugObserver = memo(() => {\n  const snapshot = useRecoilSnapshot();\n  useEffect(() => {\n    // eslint-disable-next-line\n    for (const node of snapshot.getNodes_UNSTABLE({ isModified: true })) {\n      console.debug(node.key, snapshot.getLoadable(node).getValue());\n    }\n  }, [snapshot]);\n\n  return null;\n});\n\nconst AppContent = memo(() => {\n  const isLoading = useRecoilValue(isLoadingState);\n\n  return (\n    <>\n      {isLoading && <OverlayLoading />}\n      <ErrorBoundary>\n        <ThemeProvider theme={theme}>\n          <GlobalStyle />\n          <ConfigProvider {...configProviders}>\n            <Router basename={process.env.PUBLIC_URL}>\n              <Switch>\n                {routes.map((route) =>\n                  route.auth ? (\n                    <AuthRoute\n                      key={route.path}\n                      path={route.path}\n                      exact={route.exact}\n                      component={route.component}\n                    />\n                  ) : (\n                    <Route\n                      key={route.path}\n                      path={route.path}\n                      exact={route.exact}\n                      component={route.component}\n                    />\n                  )\n                )}\n                <Route component={NotFoundPage} />\n              </Switch>\n            </Router>\n          </ConfigProvider>\n        </ThemeProvider>\n      </ErrorBoundary>\n    </>\n  );\n});\n\nexport const App = memo(() => {\n  return (\n    <RecoilRoot>\n      <DebugObserver />\n      <AppContent />\n    </RecoilRoot>\n  );\n});\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './app';\nimport reportWebVitals from './reportWebVitals';\nimport './utils/handlebars-helpers';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { ModuleNamesMapping } from '@app/constants';\nimport { ModuleTypeEnum } from '@app/enums';\nimport { atom, atomFamily, selector } from 'recoil';\n\nexport function applyFixedItemOfModuleOrder(item1: ModuleOrderItem, item2: ModuleOrderItem) {\n  if (item1.type === ModuleTypeEnum.Header) return -1;\n  if (item2.type === ModuleTypeEnum.Header) return 1;\n\n  if (item1.type === ModuleTypeEnum.Footer) return 1;\n  if (item2.type === ModuleTypeEnum.Footer) return -1;\n\n  return 0;\n}\n\n/**\n * Load available modules by theme name\n * this atom cannot be modified\n */\nexport const edmThemeListState = atom<EdmDesignConfig[]>({\n  key: 'edmThemeListState',\n  default: [],\n});\n\nexport const currentEdmThemeNameState = atom<string>({\n  key: 'currentEdmThemeName',\n  default: '',\n});\n\nexport const currentDesignNameState = atom<string>({\n  key: 'currentDesignNameState',\n  default: '',\n});\n\nexport const availModuleListFamilyState = atomFamily<ModuleConfig[], string>({\n  key: 'availModuleListFamilyState',\n  default: [],\n});\n\nexport const designConfigState = atom<EdmDesignConfig | null>({\n  key: 'designConfigState',\n  default: null,\n});\n\n/**\n * Return modules collection by design name\n * @param designName [string]\n */\nexport const designModuleCollState = atom<ModuleCollection>({\n  key: 'designModuleCollState',\n  default: selector({\n    key: 'designModuleCollState/default',\n    get: ({ get }) => {\n      const designConfig = get(designConfigState);\n\n      if (!designConfig) return {};\n\n      return designConfig.modules?.reduce(\n        (acc, item) => ({\n          ...acc,\n          [item.id]: item,\n        }),\n        {}\n      );\n    },\n  }),\n});\n\n/**\n * This is the list of current design modules sequence\n * use as origin order\n */\nexport const designModuleOrderState = atom<ModuleOrderItem[]>({\n  key: 'designModuleOrderState',\n  default: selector({\n    key: 'designModuleOrderState/default',\n    get: ({ get }) => {\n      const moduleCollection = get(designModuleCollState);\n\n      const list = Object.values(moduleCollection).map((item) => ({\n        id: item.id,\n        label: ModuleNamesMapping[item.type],\n        type: item.type,\n      }));\n\n      list.sort(applyFixedItemOfModuleOrder);\n\n      return list;\n    },\n  }),\n});\n\nexport const isReorderingState = atom<boolean>({\n  key: 'isReorderingState',\n  default: false,\n});\n\nexport const isLoadingState = atom<boolean>({\n  key: 'isLoadingState',\n  default: false,\n});\n\nexport const designHistoryState = atom<SavedDesignHistory>({\n  key: 'designHistoryState',\n  default: {},\n});\n\nexport const originalDesignConfigState = atom<EdmDesignConfig | null>({\n  key: 'originalDesignConfigState',\n  default: null,\n});\n\nexport const htmlKeyState = atom<string | undefined>({\n  key: 'htmlKeyState',\n  default: '',\n});\n","import { ModuleTypeEnum } from '@app/enums';\nimport { WritableDraft } from 'immer/dist/types/types-external';\nimport { mergeWith } from 'lodash';\n\nconst patterns = {\n  email:\n    // eslint-disable-next-line no-control-regex\n    /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/,\n};\n\nexport type PatternType = keyof typeof patterns;\n// to remove after refactoring LoginPage\nexport const validateBy = (type: PatternType, value: string) => {\n  const pattern = patterns[type];\n\n  if (!pattern) return true;\n\n  return pattern.test(value);\n};\n\nexport function uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport const reorder = <T>(list: T[], startIndex: number, endIndex: number) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nexport const separateModuleList = <T extends { type: ModuleType }>(list: T[]) => {\n  return list.reduce<T[][]>(\n    (acc, item) => {\n      if (item.type === ModuleTypeEnum.Header) {\n        acc[0].push(item);\n      } else if (item.type === ModuleTypeEnum.Footer) {\n        acc[2].push(item);\n      } else {\n        acc[1].push(item);\n      }\n\n      return acc;\n    },\n    [[], [], []]\n  );\n};\n\nfunction customizer(objValue: any, srcValue: any): any {\n  if (Array.isArray(srcValue)) {\n    return srcValue;\n  }\n\n  if (srcValue && typeof srcValue === 'object') {\n    return mergeWith(objValue, srcValue, customizer);\n  }\n\n  return typeof srcValue !== 'undefined' ? srcValue : objValue;\n}\n\nexport function mergeDeep(...args: object[]) {\n  // @ts-ignore\n  return mergeWith.apply(null, [...args, customizer]);\n}\n\nexport function preventUpload() {\n  return false;\n}\n\nexport async function loadFile(file: File, type: 'text' | 'image'): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    switch (type) {\n      case 'text':\n        reader.readAsText(file);\n        break;\n      case 'image':\n        reader.readAsDataURL(file);\n        break;\n    }\n\n    reader.onerror = (error) => reject(error);\n    reader.onload = () => resolve(reader.result as string);\n  });\n}\n\nexport const convertHexToRGBA = (hexCode: string, opacity: number) => {\n  let hex = hexCode.replace('#', '');\n\n  if (hex.length === 3) {\n    hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;\n  }\n\n  const r = parseInt(hex.substring(0, 2), 16);\n  const g = parseInt(hex.substring(2, 4), 16);\n  const b = parseInt(hex.substring(4, 6), 16);\n\n  return `rgba(${r},${g},${b},${opacity / 100})`;\n};\n\nexport function updateId<T extends any>(draft: WritableDraft<T>) {\n  Object.keys(draft).forEach((key) => {\n    const item = (draft as any)[key];\n\n    if (key === 'id') {\n      (draft as any)['key'] = `key-${uuidv4()}`;\n    } else if (Array.isArray(item as any)) {\n      item.forEach((i: any) => updateId(i));\n    } else if (item && typeof item === 'object') {\n      updateId(item);\n    }\n  });\n\n  return draft;\n}\n\nexport function removeKeys<T extends object>(draft: WritableDraft<T>, keys: string[]) {\n  Object.keys(draft).forEach((key) => {\n    const item = (draft as any)[key];\n\n    if (keys.includes(key)) {\n      delete (draft as any)[key];\n    } else if (Array.isArray(item as any)) {\n      item.forEach((i: any) => void removeKeys(i, keys));\n    } else if (item && typeof item === 'object') {\n      removeKeys(item, keys);\n    }\n  });\n}\n\nexport const formatDate = (date: Date | number, format: string) => {\n  const d = typeof date === 'number' ? new Date(date) : date;\n  const [dd, MM, yyyy, HH, mm, ss] = [\n    d.getDate(),\n    d.getMonth() + 1,\n    d.getFullYear(),\n    d.getHours(),\n    d.getMinutes(),\n    d.getSeconds(),\n  ];\n\n  return format\n    .replace(/dd/g, dd < 10 ? `0${dd}` : `${dd}`)\n    .replace(/MM/g, MM < 10 ? `0${MM}` : `${MM}`)\n    .replace(/yyyy/g, `${yyyy}`)\n    .replace(/HH/g, HH < 10 ? `0${HH}` : `${HH}`)\n    .replace(/mm/g, mm < 10 ? `0${mm}` : `${mm}`)\n    .replace(/ss/g, ss < 10 ? `0${ss}` : `${ss}`);\n};\n","import { ModuleTypeEnum } from './enums';\n\nexport const ModuleNamesMapping = {\n  [ModuleTypeEnum.Text]: 'Text Module',\n  [ModuleTypeEnum.Image]: 'Image Module',\n  [ModuleTypeEnum.ImageText]: 'Image/Text Module',\n  [ModuleTypeEnum.Header]: 'Header Module',\n  [ModuleTypeEnum.Footer]: 'Footer Module',\n  [ModuleTypeEnum.Spacer]: 'Spacer Module',\n};\n\nexport const MaxModuleInEdmDesign: Record<Partial<ModuleType>, number> = {\n  [ModuleTypeEnum.Header]: 1,\n  [ModuleTypeEnum.Footer]: 1,\n};\n\nexport const DefaultDesignConfig: EdmDesignConfig = {\n  id: '',\n  name: 'Untitled',\n  photo: '',\n  modules: [],\n  backgroundColor: '#ffffff',\n  contentWidth: 700,\n  font: 'Roboto, sans-serif',\n  themeName: 'Default',\n};\n","import { notify } from '../../utils/notification';\n\nconst TOKEN_KEY = 'access_token';\nexport function removeToken() {\n  localStorage.removeItem(TOKEN_KEY);\n}\n\nexport function saveToken(token: string) {\n  localStorage.setItem(TOKEN_KEY, token);\n}\n\nexport function getToken() {\n  return localStorage.getItem(TOKEN_KEY);\n}\n\nconst doRequest = async (baseAPI: string, url: string, options?: RequestInit) => {\n  const token = getToken();\n  let { headers: optHeaders, ...restOpts } = options || {};\n  const fullUrl = `${baseAPI}${url}`;\n\n  const headers: Record<string, any> = {\n    'Content-Type': 'application/json',\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\n    ...optHeaders,\n  };\n\n  if (headers['Content-Type'] === 'remove') {\n    delete headers['Content-Type'];\n  }\n\n  const resp = await fetch(fullUrl, {\n    method: 'GET',\n    headers,\n    ...restOpts,\n  });\n\n  // Error\n  if (resp.status < 200 || resp.status >= 300) {\n    const error: RespError = await resp.json();\n\n    let message: string = '';\n    if (typeof error.detail === 'string') {\n      message = error.detail;\n    } else if (error.detail?.length > 0) {\n      message = error.detail.map((i) => i.msg).join('\\n');\n    }\n    notify.error(message);\n\n    throw Error('');\n  }\n\n  const customHeader = (headers as any)?.['Content-Type'];\n  if (customHeader && customHeader !== 'application/json') {\n    return resp;\n  }\n\n  // Success\n  try {\n    return await resp.clone().json();\n  } catch {\n    return resp.text();\n  }\n};\n\nconst BASE_API = process.env?.REACT_APP_BASE_API || '';\nexport async function request(url: string, options?: RequestInit) {\n  try {\n    return await doRequest(BASE_API, url, options);\n  } catch (err: any) {\n    return Promise.reject(err);\n  }\n}\n\nexport async function clientRequest(url: string, options?: RequestInit) {\n  try {\n    return await doRequest('', url, options);\n  } catch (err: any) {\n    return Promise.reject(err);\n  }\n}\n","import { DefaultTheme } from 'styled-components';\n\nexport const theme: DefaultTheme = {\n  colors: {\n    primary: '#7F63F4',\n    bg: '#f0f2f5',\n    border: '#dedede',\n    link: '#40a9ff',\n    disabled: '#D5D5D5',\n    tableHeader: '#2c6ca0',\n    tableRowEven: '#f9f9f9',\n    danger: '#ce0606',\n    error: '#ce0606',\n    warning: '#f8d922',\n    subtle: '#464A53',\n    success: '#52c41a',\n    validating: '#dedede',\n    text: '#1A1A1A',\n    tags: {\n      danger: '#fdc8c8',\n      success: '#d0ffd1',\n      primary: '#c3e2fb',\n    },\n    placeholder: '#D8D8D8',\n  },\n  fontSize: {\n    base: '14px',\n    body: '1rem',\n    xs: '0.778rem',\n    sm: '0.889rem',\n    md: '1.222rem',\n    lg: '2.006rem',\n  },\n  spacing: {\n    xs: '0.5rem',\n    sm: '0.8rem',\n    md: '1.5rem',\n    lg: '2rem',\n  },\n};\n","import { atom } from 'recoil';\n\nexport const userInfoState = atom<UserInfo | null>({\n  key: 'userInfoState',\n  default: null,\n});\n"],"sourceRoot":""}