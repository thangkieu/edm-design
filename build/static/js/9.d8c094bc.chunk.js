(this["webpackJsonpedm-design"]=this["webpackJsonpedm-design"]||[]).push([[9],{282:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={title:"EDM Composer",subTitle:"Generate a customised EDM design",footnote:"\xa9Created by Data Science & AI Division, GovTech"}},284:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m}));var r=n(3),c=n(6),a=n.n(c),i=n(14),s=n(348),o=n.n(s),u=n(137);function l(){return j.apply(this,arguments)}function j(){return(j=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.clientGet("/themes/edm-themes.json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.clientGet("/themes/".concat(t,"/data.json"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark((function e(t,n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="",e.prev=1,e.next=4,o.a.toPng(document.getElementById("edm-design-renderer"));case 4:c=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.debug(e.t0);case 10:t(Object(r.a)({screenshot:c},n||{}));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}},325:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,c,a,i,s,o,u=n(88),l=n(282),j=n(388),d=n(0),b=n(136),m=n(65),p=m.d.div(r||(r=Object(u.a)(["\n  padding: 1rem 1rem;\n  max-width: 1084px;\n  margin: auto;\n  width: 100%;\n\n  .ant-layout-has-sider {\n    height: 100%;\n  }\n"]))),h=(m.d.div(c||(c=Object(u.a)(["\n  margin-bottom: 1.5rem;\n"]))),m.d.div(a||(a=Object(u.a)(["\n  display: flex;\n  margin-top: 3em;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]))),n(13)),f=Object(m.d)(p)(i||(i=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 0;\n  padding-bottom: 0;\n  line-height: 1;\n"]))),O=Object(m.d)(b.b)(s||(s=Object(u.a)(["\n  color: white;\n  text-decoration: none;\n"]))),x=Object(d.memo)((function(e){return Object(h.jsxs)(f,{children:[Object(h.jsxs)(O,{to:"/",children:[Object(h.jsx)(j.a.Title,{level:3,style:{margin:0,lineHeight:1},children:l.a.title}),Object(h.jsx)(j.a.Text,{type:"secondary",children:Object(h.jsx)("small",{children:l.a.subTitle})})]}),e.actions]})})),g=n(394),v=Object(d.memo)((function(e){return Object(h.jsx)(g.a.Footer,{className:e.className,style:{textAlign:"center"},children:l.a.footnote})})),w=Object(m.d)(p)(o||(o=Object(u.a)(["\n  height: 100%;\n  overflow: hidden;\n"]))),y=Object(d.memo)((function(e){return Object(h.jsxs)(g.a,{className:e.className,style:e.isMinFullHeight?{minHeight:"100vh"}:void 0,children:[Object(h.jsx)(g.a.Header,{style:{padding:0},children:Object(h.jsx)(x,{actions:e.actions})}),Object(h.jsx)(g.a.Content,{children:Object(h.jsx)(w,{children:e.children})}),!e.hideFooter&&Object(h.jsx)(v,{})]})}))},571:function(e,t,n){"use strict";n.r(t);var r,c,a,i,s,o=n(6),u=n.n(o),l=n(3),j=n(14),d=n(88),b=n(60),m=n(355),p=n.n(m),h=n(325),f=n(133),O=n(297),x=n.n(O),g=n(298),v=n.n(g),w=n(290),y=n(0),k=n(15),C=n(136),T=n(7),N=n(351),D=n.n(N),I=n(352),M=n.n(I),E=n(354),H=n.n(E),F=n(13),G=Object(y.memo)((function(e){var t=Object(k.f)(),n=Object(T.k)(f.g),r=Object(y.useCallback)((function(){n(),t.push("/login")}),[t,n]),c=Object(y.useMemo)((function(){return Object(F.jsxs)(x.a,{children:[Object(F.jsx)(x.a.Item,{children:Object(F.jsxs)(C.b,{to:"/edm-composer",children:[Object(F.jsx)(D.a,{})," EDM Composer"]})},"edm-composer"),Object(F.jsxs)(x.a.Item,{onClick:r,children:[Object(F.jsx)(M.a,{})," Logout"]},"logout")]})}),[r]);return Object(F.jsx)(v.a,{overlay:c,placement:"bottomLeft",arrow:!0,children:Object(F.jsx)(w.a,{shape:"circle",icon:Object(F.jsx)(H.a,{})})})})),S=n(4),J=n(284),L=n(388),U=n(387),A=n(299),B=n.n(A),P=n(389),q=n(57),W=n(151),z=n(65),K=z.d.div(r||(r=Object(d.a)(["\n  padding: ",";\n  margin: 0 calc("," / 2) ",";\n  flex: 1 1 0%;\n  appearance: none;\n  background-color: white;\n  border: 1px solid ",";\n  transition: all 0.3s ease-in-out;\n  cursor: pointer;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  &:hover {\n    border-color: transparent;\n    box-shadow: 0 0 20px -10px rgba(0, 0, 0, 0.5);\n  }\n"])),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.colors.border})),Q=Object(z.d)(L.a.Title)(c||(c=Object(d.a)(["\n  margin-top: ",";\n  && {\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.spacing.sm})),R=z.d.div(a||(a=Object(d.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: calc(-"," / 2);\n  margin-right: calc(-"," / 2);\n"])),(function(e){return e.theme.spacing.sm}),(function(e){return e.theme.spacing.sm})),V=Object(z.d)(L.a.Title)(i||(i=Object(d.a)(["\n  text-transform: uppercase;\n"]))),X=Object(z.d)(U.a.Dragger)(s||(s=Object(d.a)(["\n  && {\n    background-color: white;\n  }\n"]))),Y=Object(y.memo)((function(){var e=Object(T.j)(f.f),t=Object(k.f)(),n=Object(T.l)(f.i),r=Object(T.g)((function(e){var r=e.set;return function(){var e=Object(j.a)(u.a.mark((function e(c,a){var i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(S.k,!0),e.next=3,Object(J.b)(c);case 3:i=e.sent,s=a||Object(l.a)(Object(l.a)({},b.a),{},{id:Object(q.j)(),themeName:c}),r(S.d,c),r(S.c,s.name),r(Object(S.b)(c),(null===i||void 0===i?void 0:i.modules)||[]),n(s),r(S.k,!1),t.push("/edm-composer");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),[]),c=Object(y.useCallback)((function(e){var t;if(null===(t=e.currentTarget.querySelector(".ant-image"))||void 0===t?void 0:t.contains(e.target))e.stopPropagation();else{var n=e.currentTarget.dataset.theme;n&&r(n)}}),[r]),a=Object(y.useCallback)(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.c)(t.file,"text");case 2:if(n=e.sent,e.prev=3,(c=JSON.parse(n)).themeName){e.next=8;break}return W.a.error("Invalid Config file"),e.abrupt("return");case 8:r(c.themeName,c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),W.a.error("Invalid Config file");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),[r]),i=Object(y.useCallback)((function(e){var t=e.dataTransfer.files[0];t&&a({file:t})}),[a]);return Object(F.jsxs)(h.a,{isMinFullHeight:!0,actions:Object(F.jsx)(G,{}),children:[Object(F.jsx)("br",{}),Object(F.jsx)(V,{level:4,children:"Start With"}),Object(F.jsxs)(X,{multiple:!1,name:"design",onDrop:i,onChange:a,showUploadList:!1,beforeUpload:q.e,children:[Object(F.jsx)("p",{className:"ant-upload-drag-icon",style:{marginBottom:"0.5rem"},children:Object(F.jsx)(p.a,{})}),Object(F.jsx)("p",{className:"ant-upload-text",children:"Upload existing design"})]}),Object(F.jsx)(B.a,{}),Object(F.jsx)(V,{level:4,children:"Themes"}),Object(F.jsx)(R,{children:e.map((function(e){return Object(F.jsxs)(K,{"data-theme":e.name,onClick:c,children:[Object(F.jsx)(P.a,{src:e.thumbnail,alt:e.name}),Object(F.jsx)(Q,{level:5,children:e.name})]},e.id)}))})]})})),Z=Object(y.memo)((function(){var e=Object(T.g)((function(e){var t=e.set;return Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(S.k,!0),e.next=3,Object(J.a)();case 3:n=e.sent,t(S.i,n),t(S.k,!1);case 6:case"end":return e.stop()}}),e)})))}),[]);return Object(y.useEffect)((function(){e()}),[]),Object(F.jsx)(Y,{})}));t.default=Z}}]);
//# sourceMappingURL=9.d8c094bc.chunk.js.map